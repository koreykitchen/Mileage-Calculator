(this["webpackJsonpmileage-calculator"]=this["webpackJsonpmileage-calculator"]||[]).push([[0],{12:function(e,t){},15:function(e,t,a){e.exports=a(29)},20:function(e,t,a){},26:function(e,t){},27:function(e,t){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),o=a.n(s),i=(a(20),a(1)),c=a(2),l=a(3),u=a(4),d=a(8),p=a.n(d),y=a(5),m=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"Select a store to add to your ",r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.currentDay)," route: "),r.a.createElement("select",{id:"locationSelectElement",style:{width:"75vw"}},this.populateSelectElement()),r.a.createElement("button",{onClick:function(){return e.addSelectedStoreToDay()},style:{marginLeft:"25px"}},"Add Store"))}},{key:"populateSelectElement",value:function(){return this.props.storeListData.map((function(e,t){return e.Name?r.a.createElement("option",{key:t,value:t},e.Name+" - "+e.Address+" - "+e.City):[]}))}},{key:"addSelectedStoreToDay",value:function(){var e=document.getElementById("locationSelectElement"),t=e.options[e.selectedIndex].value,a=this.props.storeListData[t];this.props.addSelectedStoreToCurrentDay(a,this.props.weekDataObject)}}]),a}(r.a.Component),h=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bordered-div"},this.props.storeData.Name+" - "+this.props.storeData.Address+" - "+this.props.storeData.City,r.a.createElement("button",{onClick:function(){return e.props.removeStore()},style:{color:"red",float:"right"}},"Remove"))}}]),a}(r.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(i.a)(this,a);var r=(n=t.call(this,e)).props.weekDataObject.state.currentDaysData.length;return n.state={numberOfStores:r},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props.weekDataObject.state.currentDaysData.length;this.state.numberOfStores!==e&&this.setState({numberOfStores:e})}},{key:"render",value:function(){var e=Object(y.a)(this.props.weekDataObject.state.currentDaysData);return r.a.createElement("div",{className:"bordered-div"},r.a.createElement("p",null,this.state.numberOfStores," store(s) added to the day..."),this.populateLocationsHtml(e))}},{key:"populateLocationsHtml",value:function(e){var t=this;return 0===e.length?[]:Array(e.length).fill(null).map((function(a,n){return r.a.createElement(h,{key:n,storeData:e[n],removeStore:function(){return t.removeStore(n)}})}))}},{key:"removeStore",value:function(e){var t=Object(y.a)(this.props.weekDataObject.state.currentDaysData);t.splice(e,1),this.props.weekDataObject.setDaysData(t,this.props.weekDataObject.state.currentDay)}}]),a}(r.a.Component),D=a(9),v=a.n(D),b=a(14),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={googleMapsHandle:null,loaded:!0,status:"LOADING..."},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getGoogleMapsHandle()}},{key:"render",value:function(){if(this.state.googleMapsHandle){if(!this.state.loaded){var e={origin:"Binghamton,NY",destination:"Conklin,NY",travelMode:"DRIVING"};(new this.state.googleMapsHandle.maps.DirectionsService).route(e,this.callback)}return r.a.createElement("p",null,this.state.status)}return r.a.createElement("p",null,this.state.status)}},{key:"callback",value:function(e,t){"OK"===t&&window.distanceElement.storeDistance(e)}},{key:"storeDistance",value:function(e){this.setState({status:Math.round(621371e-9*e.routes[0].legs[0].distance.value*10)/10+" miles...",loaded:!0})}},{key:"loadGoogleMapsAPI",value:function(){return new Promise((function(e,t){if(e(window.google),t("Error loading Google Maps API..."),!document.getElementById("googleMapsScriptElement")){var a=document.createElement("script");a.id="googleMapsScriptElement",a.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyASFAgyRK86Z88JTF_LlbtUsLTmw0_eNdI",document.body.appendChild(a)}}))}},{key:"getGoogleMapsHandle",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadGoogleMapsAPI();case 2:t=e.sent,this.setState({googleMapsHandle:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={currentDay:"Sunday",arrayOfDaysData:new Array(7).fill([]),currentDaysData:[],totalClicked:!1},n.arrayOfDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bordered-div"},this.setupWeekdayTabs(),r.a.createElement("button",{onClick:function(){return e.calculateTotalMiles()},style:{marginLeft:"25px"}},"Total Mileage"),this.testDistance(),r.a.createElement(m,{currentDay:this.state.currentDay,storeListData:this.props.storeListData,addSelectedStoreToCurrentDay:this.addSelectedStoreToCurrentDay,weekDataObject:this}),r.a.createElement(f,{weekDataObject:this}))}},{key:"testDistance",value:function(){return this.state.totalClicked?r.a.createElement(k,{weekDataObject:this,ref:function(e){return window.distanceElement=e}}):void 0}},{key:"addSelectedStoreToCurrentDay",value:function(e,t){var a=Object(y.a)(t.getDaysData(t.state.currentDay));a.push(e),t.setDaysData(a,t.state.currentDay)}},{key:"setDaysData",value:function(e,t){var a=Object(y.a)(this.state.arrayOfDaysData);a[this.arrayOfDayNames.findIndex((function(e){return e===t}))]=e,this.setState({arrayOfDaysData:a,currentDaysData:e})}},{key:"getDaysData",value:function(e){var t=this.arrayOfDayNames.findIndex((function(t){return t===e}));return this.state.arrayOfDaysData[t]}},{key:"setupWeekdayTabs",value:function(){var e=this;return this.arrayOfDayNames.map((function(t,a){return r.a.createElement("button",{key:t,onClick:function(){return e.setCurrentDay(a)},style:{margin:"1px"}},t)}))}},{key:"setCurrentDay",value:function(e){var t=Object(y.a)(this.getDaysData(this.arrayOfDayNames[e]));this.setState({currentDay:this.arrayOfDayNames[e],currentDaysData:t})}},{key:"calculateTotalMiles",value:function(){this.setState({totalClicked:!this.state.totalClicked})}}]),a}(r.a.Component),g=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={weekDisplayed:!0},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Mileage Calculator"),r.a.createElement("p",null,"A Note Before Using:"),r.a.createElement("p",null,"Mileage calculator is still in development, and therefore may be prone to bugs and crashes..."),r.a.createElement("p",null,"Some functionality may be missing or incomplete..."),this.renderWeekOrDistance())}},{key:"renderWeekOrDistance",value:function(){return this.state.weekDisplayed?r.a.createElement(O,{storeListData:this.props.storeListData}):r.a.createElement(k,{mainDataObject:this,ref:function(e){return window.distanceElement=e}})}}]),a}(r.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={storeListData:[],dataHasBeenLoaded:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getStoreListData(this.callbackFunctionToStoreData,this)}},{key:"render",value:function(){return this.state.dataHasBeenLoaded?r.a.createElement(g,{storeListData:this.state.storeListData}):r.a.createElement("h1",{style:{textAlign:"center",padding:"100px"}},"LOADING...")}},{key:"getStoreListData",value:function(e,t){var a=new XMLHttpRequest;a.open("GET","https://koreykitchen.github.io/Mileage-Calculator/StoreList.xlsx",!0),a.responseType="arraybuffer",a.onload=function(){e(a.response,t)},a.send()}},{key:"callbackFunctionToStoreData",value:function(e,t){var a=new Uint8Array(e),n=p.a.read(a,{type:"array"}),r=n.Sheets[n.SheetNames[0]],s=p.a.utils.sheet_to_json(r,{blankrows:!1});s=(s=s.filter((function(e){return e.Name}))).sort((function(e,t){var a=e.Name.toUpperCase(),n=t.Name.toUpperCase(),r=0;return a>n?r=1:a<n&&(r=-1),r})),t.setState({storeListData:s,dataHasBeenLoaded:!0})}}]),a}(r.a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.65bf3a9a.chunk.js.map